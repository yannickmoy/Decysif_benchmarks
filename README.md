# benchmarks
Benchmarks for the project

## AdaCore benchmarks

Directory `adacore` contains AdaCore's benchmarks.

The executable `why3server` from either SPARK or Why3 install should be on the
PATH, as well as the executables for the provers.

The provers being run and the time limit used are in `scripts/config.py`. The
global results per prover, and differences between provers, are generated per
test in files `results/*/*.out` and `results/*/*.diff`.

### Manually crafted VCs

To run provers on manually crafted VCs:

```
./scripts/benchtests.py --results-dir=results/crafted -j 8 --mode=crafted crafted
./scripts/analyze.py results/crafted/results.json
```

VCs are grouped in a few tests:

- `crafted/int` for VCs involving integers with non-linear arithmetic
- `crafted/bv` for VCs involving bitvectors
- `crafted/int_bv` for VCs involving both integers and bitvectors

All provers are run on the same VCs in SMT-LIB2 format.

### Generated VCs

To run provers on VCs generated by GNATprove:

```
./scripts/benchtests.py --results-dir=results/generated -j 8 --mode=generated generated
./scripts/analyze.py results/generated/results.json
```

All VCs should be probable. They are generated from a subset of tests from the
public SPARK testsuite, which are known to be full provable. All provers are
run on VCs generated by the corresponding driver associated to that prover in
GNATprove. Script `remove_simple_vcs.py` was run to delete VCs which are proved
by all provers (among Alt-Ergo, cvc5, Z3), and tests for which no VC remained
were deleted, leaving 46 tests with a total of 1837 VCs.
